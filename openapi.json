{"openapi":"3.1.0","info":{"title":"Fashion AI Platform","description":"Fashion AI Platform API - Generate, try-on, and shop for fashion items","version":"1.0.0"},"paths":{"/api/v1/auth/google/login":{"post":{"tags":["Authentication"],"summary":"Google Login","description":"Authenticate user/shop via Google OAuth\nSupports two authentication methods:\n1. Web OAuth flow: Send 'code' (authorization code)\n2. Mobile flow: Send 'id_token' (Google ID token)\n\naccount_type: 'user' or 'shop'\nplatform: 'web' or 'mobile'","operationId":"google_login_api_v1_auth_google_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleAuthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleAuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Access Token","description":"Refresh access token using refresh token","operationId":"refresh_access_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout","description":"Logout user/shop by invalidating refresh token\nNote: In production, implement token blacklist (Redis recommended)\nFor now, we just verify the token is valid","operationId":"logout_api_v1_auth_logout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/user/get-or-create-shop":{"post":{"tags":["Authentication"],"summary":"User Get Or Create Shop","description":"Get or create shop for current user\nThis allows users to also become shop owners","operationId":"user_get_or_create_shop_api_v1_auth_user_get_or_create_shop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleAuthResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/google/url":{"get":{"tags":["Authentication"],"summary":"Get Google Auth Url","description":"Get Google OAuth authorization URL\naccount_type: 'user' or 'shop'\nplatform: 'web' or 'mobile'","operationId":"get_google_auth_url_api_v1_auth_google_url_get","parameters":[{"name":"account_type","in":"query","required":false,"schema":{"$ref":"#/components/schemas/AccountType","default":"user"}},{"name":"platform","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ClientPlatform","default":"web"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/test-token":{"post":{"tags":["Authentication"],"summary":"Create Test Token","description":"Create test token for development (NO AUTHENTICATION)\nWARNING: This endpoint should be disabled in production!","operationId":"create_test_token_api_v1_auth_test_token_post","parameters":[{"name":"account_type","in":"query","required":false,"schema":{"type":"string","default":"user","title":"Account Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/google/callback":{"get":{"tags":["Authentication"],"summary":"Google Callback","description":"Google OAuth callback endpoint (GET)\nThis is called by Google after user authorizes\nReturns HTML page that saves token and redirects","operationId":"google_callback_api_v1_auth_google_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":false,"schema":{"type":"string","title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Get Current User Info","description":"Get current user information","operationId":"get_current_user_info_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["Users"],"summary":"Update Current User","description":"Update current user","operationId":"update_current_user_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me/balance":{"get":{"tags":["Users"],"summary":"Get User Balance","description":"Get user balance and free limits","operationId":"get_user_balance_api_v1_users_me_balance_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserBalance"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me/transactions":{"get":{"tags":["Users"],"summary":"Get User Transactions","description":"Get user transaction history","operationId":"get_user_transactions_api_v1_users_me_transactions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponse"},"title":"Response Get User Transactions Api V1 Users Me Transactions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/history":{"get":{"tags":["Users"],"summary":"Get User Generation History","description":"Get user generation/try-on history","operationId":"get_user_generation_history_api_v1_users_me_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenerationResponse"},"title":"Response Get User Generation History Api V1 Users Me History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/orders":{"get":{"tags":["Users"],"summary":"Get User Orders","description":"Get user purchase and rental history","operationId":"get_user_orders_api_v1_users_me_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"order_type","in":"query","required":false,"schema":{"type":"string","title":"Order Type"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponse"},"title":"Response Get User Orders Api V1 Users Me Orders Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/shops/":{"get":{"tags":["Shops"],"summary":"Get Shops","description":"Get list of approved shops with active products\n- query: search by shop name or description\n- sort_by: created_at, shop_name, products_count\n- sort_order: asc or desc\n- is_active: filter by active status","operationId":"get_shops_api_v1_shops__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"query","in":"query","required":false,"schema":{"type":"string","title":"Query"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}},{"name":"is_active","in":"query","required":false,"schema":{"type":"boolean","title":"Is Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Shops"],"summary":"Create Shop","description":"Create new shop (admin or public registration)","operationId":"create_shop_api_v1_shops__post","requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_shop_api_v1_shops__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/shops/upload-avatar":{"post":{"tags":["Shops"],"summary":"Upload Shop Avatar","description":"Upload shop avatar/logo image","operationId":"upload_shop_avatar_api_v1_shops_upload_avatar_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_shop_avatar_api_v1_shops_upload_avatar_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/shops/me":{"get":{"tags":["Shops"],"summary":"Get Current Shop Info","description":"Get current shop information","operationId":"get_current_shop_info_api_v1_shops_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopResponse"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["Shops"],"summary":"Update Current Shop","description":"Update current shop","operationId":"update_current_shop_api_v1_shops_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["Shops"],"summary":"Delete Current Shop","description":"Delete current shop and all associated data","operationId":"delete_current_shop_api_v1_shops_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/shops/me/products":{"get":{"tags":["Shops"],"summary":"Get Shop Products","description":"Get shop products","operationId":"get_shop_products_api_v1_shops_me_products_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"},"title":"Response Get Shop Products Api V1 Shops Me Products Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/shops/me/analytics":{"get":{"tags":["Shops"],"summary":"Get Shop Analytics","description":"Get shop analytics","operationId":"get_shop_analytics_api_v1_shops_me_analytics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopAnalytics"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/shops/me/transactions":{"get":{"tags":["Shops"],"summary":"Get Shop Transactions","description":"Get shop transaction history","operationId":"get_shop_transactions_api_v1_shops_me_transactions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponse"},"title":"Response Get Shop Transactions Api V1 Shops Me Transactions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/shops/me/orders":{"get":{"tags":["Shops"],"summary":"Get Shop Orders","description":"Get shop orders - orders containing this shop's products (Web shop panel)","operationId":"get_shop_orders_api_v1_shops_me_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/shops/me/orders/{order_id}":{"get":{"tags":["Shops"],"summary":"Get Shop Order Details","description":"Get order details for shop (Web shop panel)","operationId":"get_shop_order_details_api_v1_shops_me_orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/":{"get":{"tags":["Products"],"summary":"Get Products","description":"Get active approved products","operationId":"get_products_api_v1_products__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"type":"string","title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Products"],"summary":"Create Product","description":"Create new product (shop only)","operationId":"create_product_api_v1_products__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_create_product_api_v1_products__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/search":{"get":{"tags":["Products"],"summary":"Search Products","description":"Advanced product search with filters\n- query: text search in name/description\n- shop_id: filter by shop\n- min_price, max_price: price range\n- is_active: only active products\n- moderation_status: pending, approved, rejected\n- sort_by: field to sort by\n- sort_order: asc or desc","operationId":"search_products_api_v1_products_search_get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"query","in":"query","required":false,"schema":{"type":"string","title":"Query"}},{"name":"shop_id","in":"query","required":false,"schema":{"type":"integer","title":"Shop Id"}},{"name":"min_price","in":"query","required":false,"schema":{"type":"number","title":"Min Price"}},{"name":"max_price","in":"query","required":false,"schema":{"type":"number","title":"Max Price"}},{"name":"is_active","in":"query","required":false,"schema":{"type":"boolean","title":"Is Active"}},{"name":"moderation_status","in":"query","required":false,"schema":{"type":"string","title":"Moderation Status"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}":{"get":{"tags":["Products"],"summary":"Get Product","description":"Get product by ID","operationId":"get_product_api_v1_products__product_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Products"],"summary":"Update Product","description":"Update product (shop only) - sends back to moderation","operationId":"update_product_api_v1_products__product_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Products"],"summary":"Delete Product","description":"Delete product (shop only) - synchronizes with admin panel","operationId":"delete_product_api_v1_products__product_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/upload-images":{"post":{"tags":["Products"],"summary":"Upload Product Images","description":"Upload product images (shop only)","operationId":"upload_product_images_api_v1_products_upload_images_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_product_images_api_v1_products_upload_images_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/products/{product_id}/purchase":{"post":{"tags":["Products"],"summary":"Purchase Product","description":"Purchase product (user)","operationId":"purchase_product_api_v1_products__product_id__purchase_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}/reviews":{"post":{"tags":["Products"],"summary":"Create Review","description":"Create product review (user only)","operationId":"create_review_api_v1_products__product_id__reviews_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Products"],"summary":"Get Product Reviews","description":"Get product reviews","operationId":"get_product_reviews_api_v1_products__product_id__reviews_get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewResponse"},"title":"Response Get Product Reviews Api V1 Products  Product Id  Reviews Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}/reviews/stats":{"get":{"tags":["Products"],"summary":"Get Product Review Stats","description":"Get product review statistics","operationId":"get_product_review_stats_api_v1_products__product_id__reviews_stats_get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cart/items":{"post":{"tags":["Cart"],"summary":"Add To Cart","description":"Add product to cart (Flutter mobile app)\nIf product already in cart, quantity will be increased","operationId":"add_to_cart_api_v1_cart_items_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cart":{"get":{"tags":["Cart"],"summary":"Get Cart","description":"Get user's cart with all items (Flutter mobile app)","operationId":"get_cart_api_v1_cart_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponse"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["Cart"],"summary":"Clear Cart","description":"Clear all items from cart (Flutter mobile app)","operationId":"clear_cart_api_v1_cart_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/cart/items/{item_id}":{"put":{"tags":["Cart"],"summary":"Update Cart Item","description":"Update cart item quantity (Flutter mobile app)","operationId":"update_cart_item_api_v1_cart_items__item_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Cart"],"summary":"Remove Cart Item","description":"Remove item from cart (Flutter mobile app)","operationId":"remove_cart_item_api_v1_cart_items__item_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/create-from-cart":{"post":{"tags":["Orders"],"summary":"Create Order From Cart","description":"Create order from cart and initiate payment (Flutter mobile app)\nSupports PayPal and Balance payment methods","operationId":"create_order_from_cart_api_v1_orders_create_from_cart_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-client-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Platform"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderCreateFromCart"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Order From Cart Api V1 Orders Create From Cart Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/{order_id}":{"get":{"tags":["Orders"],"summary":"Get Order","description":"Get order details by ID (Flutter mobile app)","operationId":"get_order_api_v1_orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders":{"get":{"tags":["Orders"],"summary":"Get User Orders","description":"Get user's order history (Flutter mobile app)","operationId":"get_user_orders_api_v1_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/{order_id}/cancel":{"post":{"tags":["Orders"],"summary":"Cancel Order","description":"Cancel order (Flutter mobile app)\nOnly PENDING orders can be cancelled\nRefunds amount to user balance","operationId":"cancel_order_api_v1_orders__order_id__cancel_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders/{order_id}/refund":{"post":{"tags":["Orders"],"summary":"Request Order Refund","description":"Request refund for completed order (Flutter mobile app)\nCreates refund request for admin approval","operationId":"request_order_refund_api_v1_orders__order_id__refund_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_request_order_refund_api_v1_orders__order_id__refund_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/user/top-up":{"post":{"tags":["Payments"],"summary":"Create Top Up Payment","description":"Create PayPal payment for user balance top-up\nSecurity: User role only, mobile platform preferred","operationId":"create_top_up_payment_api_v1_payments_user_top_up_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-client-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Platform"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/shop/top-up":{"post":{"tags":["Payments"],"summary":"Create Shop Top Up Payment","description":"Create PayPal payment for shop balance top-up\nSecurity: Shop authentication required (prevents user accounts from topping up shops)","operationId":"create_shop_top_up_payment_api_v1_payments_shop_top_up_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-client-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Platform"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/shop/rent-product":{"post":{"tags":["Payments"],"summary":"Create Rent Payment","description":"Create PayPal payment for product rent\nSecurity: Shop authentication required, validates product ownership","operationId":"create_rent_payment_api_v1_payments_shop_rent_product_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"x-client-platform","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Platform"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/capture/{order_id}":{"post":{"tags":["Payments"],"summary":"Capture Payment","description":"Capture PayPal payment after user approval\nSecurity: PayPal Order ID verification is sufficient (validated by PayPal)\nNo authentication required - user comes from PayPal redirect","operationId":"capture_payment_api_v1_payments_capture__order_id__post","parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/paypal/success":{"get":{"tags":["Payments"],"summary":"Paypal Success","description":"PayPal payment success callback - supports both web and mobile","operationId":"paypal_success_api_v1_payments_paypal_success_get","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}},{"name":"PayerID","in":"query","required":false,"schema":{"type":"string","title":"Payerid"}},{"name":"platform","in":"query","required":false,"schema":{"type":"string","default":"web","title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/paypal/cancel":{"get":{"tags":["Payments"],"summary":"Paypal Cancel","description":"PayPal payment cancel callback - supports both web and mobile","operationId":"paypal_cancel_api_v1_payments_paypal_cancel_get","parameters":[{"name":"platform","in":"query","required":false,"schema":{"type":"string","default":"web","title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/paypal/webhook":{"post":{"tags":["Payments"],"summary":"Paypal Webhook","description":"PayPal webhook handler","operationId":"paypal_webhook_api_v1_payments_paypal_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/generations/generate":{"post":{"tags":["Generations"],"summary":"Generate Fashion","description":"Generate fashion based on prompt - charges user","operationId":"generate_fashion_api_v1_generations_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/try-on":{"post":{"tags":["Generations"],"summary":"Try On Product","description":"Try on product on user image - charges user","operationId":"try_on_product_api_v1_generations_try_on_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TryOnRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/apply-clothing":{"post":{"tags":["Generations"],"summary":"Apply Clothing To Model","description":"Apply clothing from image to model image - charges user like try-on","operationId":"apply_clothing_to_model_api_v1_generations_apply_clothing_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyClothingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/generate-person":{"post":{"tags":["Generations"],"summary":"Generate Person Image","description":"Generate a person/model image from text description\nUses Gemini 2.5 Flash Image model","operationId":"generate_person_image_api_v1_generations_generate_person_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneratePersonRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/generate-clothing":{"post":{"tags":["Generations"],"summary":"Generate Clothing Image","description":"Generate clothing image from text description\nUses Gemini 2.5 Flash Image model","operationId":"generate_clothing_image_api_v1_generations_generate_clothing_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateClothingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/apply-clothing-base64":{"post":{"tags":["Generations"],"summary":"Apply Clothing Base64","description":"Apply clothing to model using base64 encoded images\nSupports both clothing image OR text description\nUses Gemini 2.5 Flash Image model","operationId":"apply_clothing_base64_api_v1_generations_apply_clothing_base64_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyClothingBase64Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/generate-from-text":{"post":{"tags":["Generations"],"summary":"Generate Image From Text","description":"Generate image from text prompt\nUses Gemini 2.5 Flash Image model\nSupports various aspect ratios","operationId":"generate_image_from_text_api_v1_generations_generate_from_text_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateImageFromTextRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/generations/generate-from-text-and-images":{"post":{"tags":["Generations"],"summary":"Generate Image From Text And Images","description":"Generate image from text prompt and reference images\nUses Gemini 2.5 Flash Image model\nAccepts 1-5 reference images as base64","operationId":"generate_image_from_text_and_images_api_v1_generations_generate_from_text_and_images_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateImageFromTextAndImagesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/users":{"get":{"tags":["Admin"],"summary":"Get All Users","description":"Get all users with balances","operationId":"get_all_users_api_v1_admin_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/shops":{"get":{"tags":["Admin"],"summary":"Get All Shops","description":"Get all shops with balances","operationId":"get_all_shops_api_v1_admin_shops_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/dashboard":{"get":{"tags":["Admin"],"summary":"Get Dashboard","description":"Get admin dashboard statistics","operationId":"get_dashboard_api_v1_admin_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminDashboard"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/settings":{"get":{"tags":["Admin"],"summary":"Get Settings","description":"Get all platform settings","operationId":"get_settings_api_v1_admin_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AdminSettings"},"type":"array","title":"Response Get Settings Api V1 Admin Settings Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/settings/{key}":{"put":{"tags":["Admin"],"summary":"Update Setting","description":"Update platform setting","operationId":"update_setting_api_v1_admin_settings__key__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSettings"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/moderation/queue":{"get":{"tags":["Admin"],"summary":"Get Moderation Queue","description":"Get products pending moderation","operationId":"get_moderation_queue_api_v1_admin_moderation_queue_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Response Get Moderation Queue Api V1 Admin Moderation Queue Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/moderation/{product_id}/approve":{"post":{"tags":["Admin"],"summary":"Approve Product","description":"Approve product - charges shop for approval","operationId":"approve_product_api_v1_admin_moderation__product_id__approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationAction"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/moderation/{product_id}/reject":{"post":{"tags":["Admin"],"summary":"Reject Product","description":"Reject product","operationId":"reject_product_api_v1_admin_moderation__product_id__reject_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationAction"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orders":{"get":{"tags":["Admin"],"summary":"Get All Orders","description":"Get all orders in system (Web admin panel)","operationId":"get_all_orders_api_v1_admin_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","title":"User Id"}},{"name":"shop_id","in":"query","required":false,"schema":{"type":"integer","title":"Shop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orders/{order_id}":{"get":{"tags":["Admin"],"summary":"Get Order Details","description":"Get order details (Web admin panel)","operationId":"get_order_details_api_v1_admin_orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orders/{order_id}/refund":{"post":{"tags":["Admin"],"summary":"Force Refund Order","description":"Force refund order (Web admin panel)","operationId":"force_refund_order_api_v1_admin_orders__order_id__refund_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"integer","title":"Order Id"}},{"name":"reason","in":"query","required":true,"schema":{"type":"string","title":"Reason"}},{"name":"refund_amount","in":"query","required":false,"schema":{"type":"number","title":"Refund Amount"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/refunds":{"get":{"tags":["Admin"],"summary":"Get Refund Requests","description":"Get refund requests","operationId":"get_refund_requests_api_v1_admin_refunds_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RefundResponse"},"title":"Response Get Refund Requests Api V1 Admin Refunds Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/refunds/{refund_id}/process":{"post":{"tags":["Admin"],"summary":"Process Refund","description":"Process refund request","operationId":"process_refund_api_v1_admin_refunds__refund_id__process_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"refund_id","in":"path","required":true,"schema":{"type":"integer","title":"Refund Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundAction"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}":{"get":{"tags":["Admin"],"summary":"Get User Details","description":"Get detailed user information (admin only)","operationId":"get_user_details_api_v1_admin_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Admin"],"summary":"Delete User","description":"Delete or ban user (admin only)","operationId":"delete_user_api_v1_admin_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/role":{"put":{"tags":["Admin"],"summary":"Change User Role","description":"Change user role (admin only) - for role management","operationId":"change_user_role_api_v1_admin_users__user_id__role_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"new_role","in":"query","required":true,"schema":{"type":"string","title":"New Role"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/transactions":{"get":{"tags":["Admin"],"summary":"Get All Transactions","description":"Get all transactions across platform (admin only)","operationId":"get_all_transactions_api_v1_admin_transactions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/products/bulk-approve":{"post":{"tags":["Admin"],"summary":"Bulk Approve Products","description":"Bulk approve multiple products (admin only)","operationId":"bulk_approve_products_api_v1_admin_products_bulk_approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notes","in":"query","required":false,"schema":{"type":"string","title":"Notes"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"integer"},"title":"Product Ids"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/products/all":{"get":{"tags":["Admin"],"summary":"Get All Products Admin","description":"Get all products with advanced filtering and sorting","operationId":"get_all_products_admin_api_v1_admin_products_all_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","title":"Status"}},{"name":"is_active","in":"query","required":false,"schema":{"type":"boolean","title":"Is Active"}},{"name":"shop_id","in":"query","required":false,"schema":{"type":"integer","title":"Shop Id"}},{"name":"min_price","in":"query","required":false,"schema":{"type":"number","title":"Min Price"}},{"name":"max_price","in":"query","required":false,"schema":{"type":"number","title":"Max Price"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/shops/all":{"get":{"tags":["Admin"],"summary":"Get All Shops Admin","description":"Get all shops with advanced filtering and sorting","operationId":"get_all_shops_admin_api_v1_admin_shops_all_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"is_approved","in":"query","required":false,"schema":{"type":"boolean","title":"Is Approved"}},{"name":"min_balance","in":"query","required":false,"schema":{"type":"number","title":"Min Balance"}},{"name":"max_balance","in":"query","required":false,"schema":{"type":"number","title":"Max Balance"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/all":{"get":{"tags":["Admin"],"summary":"Get All Users Admin","description":"Get all users with advanced filtering and sorting","operationId":"get_all_users_admin_api_v1_admin_users_all_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role","in":"query","required":false,"schema":{"type":"string","title":"Role"}},{"name":"min_balance","in":"query","required":false,"schema":{"type":"number","title":"Min Balance"}},{"name":"max_balance","in":"query","required":false,"schema":{"type":"number","title":"Max Balance"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Sort Order"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/products/bulk-action":{"post":{"tags":["Admin"],"summary":"Bulk Product Action","description":"Perform bulk actions on products","operationId":"bulk_product_action_api_v1_admin_products_bulk_action_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkProductAction"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/shops/bulk-action":{"post":{"tags":["Admin"],"summary":"Bulk Shop Action","description":"Perform bulk actions on shops","operationId":"bulk_shop_action_api_v1_admin_shops_bulk_action_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkShopAction"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/products/{product_id}":{"delete":{"tags":["Admin"],"summary":"Delete Product","description":"Delete a product","operationId":"delete_product_api_v1_admin_products__product_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/shops/pending":{"get":{"tags":["Admin"],"summary":"Get Pending Shops","description":"Get shops pending approval","operationId":"get_pending_shops_api_v1_admin_shops_pending_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/shops/{shop_id}/approve":{"post":{"tags":["Admin"],"summary":"Approve Shop","description":"Approve shop - allows them to create products","operationId":"approve_shop_api_v1_admin_shops__shop_id__approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shop_id","in":"path","required":true,"schema":{"type":"integer","title":"Shop Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopApprovalAction"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/shops/{shop_id}/reject":{"post":{"tags":["Admin"],"summary":"Reject Shop","description":"Reject shop registration with reason","operationId":"reject_shop_api_v1_admin_shops__shop_id__reject_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shop_id","in":"path","required":true,"schema":{"type":"integer","title":"Shop Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopRejectionAction"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/shops/{shop_id}":{"delete":{"tags":["Admin"],"summary":"Delete Shop Admin","description":"Delete shop and all associated data (admin only)","operationId":"delete_shop_admin_api_v1_admin_shops__shop_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shop_id","in":"path","required":true,"schema":{"type":"integer","title":"Shop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"API root - frontend should be served separately","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/config":{"get":{"summary":"Get Client Config","description":"Get client configuration for mobile apps\nReturns API and WebSocket URLs","operationId":"get_client_config_api_v1_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint with database connectivity check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ws/stats":{"get":{"summary":"Websocket Stats","description":"Get WebSocket connection statistics (for monitoring)","operationId":"websocket_stats_ws_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AccountType":{"type":"string","enum":["user","shop"],"title":"AccountType","description":"Account type for authentication"},"AdminDashboard":{"properties":{"total_users":{"type":"integer","title":"Total Users"},"total_shops":{"type":"integer","title":"Total Shops"},"total_products":{"type":"integer","title":"Total Products"},"active_products":{"type":"integer","title":"Active Products"},"total_generations":{"type":"integer","title":"Total Generations"},"total_revenue":{"type":"number","title":"Total Revenue"},"pending_moderation":{"type":"integer","title":"Pending Moderation"},"pending_refunds":{"type":"integer","title":"Pending Refunds"},"total_user_balances":{"type":"number","title":"Total User Balances","default":0},"total_shop_balances":{"type":"number","title":"Total Shop Balances","default":0}},"type":"object","required":["total_users","total_shops","total_products","active_products","total_generations","total_revenue","pending_moderation","pending_refunds"],"title":"AdminDashboard"},"AdminSettings":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["key","value"],"title":"AdminSettings"},"ApplyClothingBase64Request":{"properties":{"person_base64":{"type":"string","minLength":1,"title":"Person Base64","description":"Base64 encoded person/model image"},"clothing_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Clothing Base64","description":"Base64 encoded clothing image (optional)"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Description of clothing to apply (if clothing_base64 not provided)"},"aspect_ratio":{"type":"string","title":"Aspect Ratio","description":"Output image aspect ratio","default":"2:3"}},"type":"object","required":["person_base64"],"title":"ApplyClothingBase64Request","description":"Apply clothing to model using base64 images"},"ApplyClothingRequest":{"properties":{"clothing_image_url":{"type":"string","minLength":1,"title":"Clothing Image Url"},"person_image_url":{"type":"string","minLength":1,"title":"Person Image Url"}},"type":"object","required":["clothing_image_url","person_image_url"],"title":"ApplyClothingRequest"},"Body_create_product_api_v1_products__post":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"type":"number","title":"Price"},"characteristics":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Characteristics"},"image_urls":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Urls"}},"type":"object","required":["name","price"],"title":"Body_create_product_api_v1_products__post"},"Body_create_shop_api_v1_shops__post":{"properties":{"google_id":{"type":"string","title":"Google Id"},"email":{"type":"string","title":"Email"},"shop_name":{"type":"string","title":"Shop Name"},"owner_name":{"type":"string","title":"Owner Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true}},"type":"object","required":["google_id","email","shop_name","owner_name"],"title":"Body_create_shop_api_v1_shops__post"},"Body_request_order_refund_api_v1_orders__order_id__refund_post":{"properties":{"reason":{"type":"string","title":"Reason"}},"type":"object","required":["reason"],"title":"Body_request_order_refund_api_v1_orders__order_id__refund_post"},"Body_upload_product_images_api_v1_products_upload_images_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"}},"type":"object","required":["files"],"title":"Body_upload_product_images_api_v1_products_upload_images_post"},"Body_upload_shop_avatar_api_v1_shops_upload_avatar_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_shop_avatar_api_v1_shops_upload_avatar_post"},"BulkProductAction":{"properties":{"product_ids":{"items":{"type":"integer"},"type":"array","title":"Product Ids"},"action":{"type":"string","pattern":"^(approve|reject|delete|activate|deactivate)$","title":"Action"},"notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Notes"}},"type":"object","required":["product_ids","action"],"title":"BulkProductAction"},"BulkShopAction":{"properties":{"shop_ids":{"items":{"type":"integer"},"type":"array","title":"Shop Ids"},"action":{"type":"string","pattern":"^(approve|block)$","title":"Action"}},"type":"object","required":["shop_ids","action"],"title":"BulkShopAction"},"CartItemCreate":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"quantity":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Quantity","default":1}},"type":"object","required":["product_id"],"title":"CartItemCreate"},"CartItemResponse":{"properties":{"id":{"type":"integer","title":"Id"},"cart_id":{"type":"integer","title":"Cart Id"},"product_id":{"type":"integer","title":"Product Id"},"quantity":{"type":"integer","title":"Quantity"},"added_at":{"type":"string","format":"date-time","title":"Added At"},"product":{"anyOf":[{"$ref":"#/components/schemas/ProductInCart"},{"type":"null"}]},"subtotal":{"type":"number","title":"Subtotal","default":0.0}},"type":"object","required":["id","cart_id","product_id","quantity","added_at"],"title":"CartItemResponse"},"CartItemUpdate":{"properties":{"quantity":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Quantity"}},"type":"object","required":["quantity"],"title":"CartItemUpdate"},"CartResponse":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"items":{"items":{"$ref":"#/components/schemas/CartItemResponse"},"type":"array","title":"Items","default":[]},"total_items":{"type":"integer","title":"Total Items","default":0},"total_price":{"type":"number","title":"Total Price","default":0.0},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","user_id"],"title":"CartResponse"},"ClientPlatform":{"type":"string","enum":["web","mobile"],"title":"ClientPlatform","description":"Client platform type"},"GenerateClothingRequest":{"properties":{"description":{"type":"string","maxLength":1000,"minLength":1,"title":"Description","description":"Description of the clothing to generate"},"aspect_ratio":{"type":"string","title":"Aspect Ratio","description":"Image aspect ratio","default":"1:1"}},"type":"object","required":["description"],"title":"GenerateClothingRequest","description":"Generate clothing image from text description"},"GenerateImageFromTextAndImagesRequest":{"properties":{"prompt":{"type":"string","maxLength":2000,"minLength":1,"title":"Prompt","description":"Text prompt"},"images_base64":{"items":{"type":"string"},"type":"array","maxItems":5,"minItems":1,"title":"Images Base64","description":"List of base64 encoded images (1-5 images)"},"aspect_ratio":{"type":"string","title":"Aspect Ratio","description":"Output image aspect ratio","default":"1:1"}},"type":"object","required":["prompt","images_base64"],"title":"GenerateImageFromTextAndImagesRequest","description":"Generate image from text and reference images"},"GenerateImageFromTextRequest":{"properties":{"prompt":{"type":"string","maxLength":2000,"minLength":1,"title":"Prompt","description":"Text prompt for image generation"},"aspect_ratio":{"type":"string","title":"Aspect Ratio","description":"Image aspect ratio (1:1, 2:3, 3:2, 4:3, 3:4, 16:9, 9:16)","default":"1:1"}},"type":"object","required":["prompt"],"title":"GenerateImageFromTextRequest","description":"Generate image from text prompt using Gemini 2.5 Flash Image"},"GeneratePersonRequest":{"properties":{"description":{"type":"string","maxLength":1000,"minLength":1,"title":"Description","description":"Description of the person to generate"},"aspect_ratio":{"type":"string","title":"Aspect Ratio","description":"Image aspect ratio (e.g., '1:1', '2:3', '16:9')","default":"2:3"}},"type":"object","required":["description"],"title":"GeneratePersonRequest","description":"Generate a person/model image from text description"},"GenerationRequest":{"properties":{"prompt":{"type":"string","maxLength":1000,"minLength":1,"title":"Prompt"},"user_image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Image Url"}},"type":"object","required":["prompt"],"title":"GenerationRequest"},"GenerationResponse":{"properties":{"type":{"type":"string","title":"Type"},"cost":{"type":"number","title":"Cost"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"charge_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Charge Info"}},"type":"object","required":["type","cost","id","user_id","created_at"],"title":"GenerationResponse"},"GoogleAuthRequest":{"properties":{"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code","description":"OAuth authorization code (for web)"},"id_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id Token","description":"Google ID token (for mobile)"},"account_type":{"$ref":"#/components/schemas/AccountType","description":"Account type: user or shop"},"platform":{"$ref":"#/components/schemas/ClientPlatform","description":"Client platform: web or mobile","default":"mobile"}},"type":"object","required":["account_type"],"title":"GoogleAuthRequest"},"GoogleAuthResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"User"},"shop":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Shop"},"account_type":{"$ref":"#/components/schemas/AccountType"},"platform":{"$ref":"#/components/schemas/ClientPlatform"}},"type":"object","required":["access_token","refresh_token","account_type","platform"],"title":"GoogleAuthResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LogoutRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"LogoutRequest"},"ModerationAction":{"properties":{"action":{"anyOf":[{"type":"string","pattern":"^(approve|reject)$"},{"type":"null"}],"title":"Action"},"notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Notes"}},"type":"object","title":"ModerationAction"},"ModerationStatusEnum":{"type":"string","enum":["pending","approved","rejected"],"title":"ModerationStatusEnum","description":"Product moderation status"},"OrderCreateFromCart":{"properties":{"payment_method":{"type":"string","pattern":"^(paypal|balance)$","title":"Payment Method","default":"paypal"}},"type":"object","title":"OrderCreateFromCart","description":"Create order from cart"},"OrderItemResponse":{"properties":{"id":{"type":"integer","title":"Id"},"product_id":{"type":"integer","title":"Product Id"},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"shop_id":{"type":"integer","title":"Shop Id"},"shop_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shop Name"},"quantity":{"type":"integer","title":"Quantity"},"price_at_purchase":{"type":"number","title":"Price At Purchase"},"subtotal":{"type":"number","title":"Subtotal"}},"type":"object","required":["id","product_id","shop_id","quantity","price_at_purchase","subtotal"],"title":"OrderItemResponse","description":"Order item details"},"OrderListResponse":{"properties":{"orders":{"items":{"$ref":"#/components/schemas/OrderResponse"},"type":"array","title":"Orders"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["orders","total","page","page_size"],"title":"OrderListResponse","description":"Paginated list of orders"},"OrderResponse":{"properties":{"id":{"type":"integer","title":"Id"},"order_number":{"type":"string","title":"Order Number"},"user_id":{"type":"integer","title":"User Id"},"order_type":{"type":"string","title":"Order Type"},"status":{"type":"string","title":"Status"},"payment_method":{"type":"string","title":"Payment Method","default":"paypal"},"total_amount":{"type":"number","title":"Total Amount"},"product_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"},"shop_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shop Id"},"quantity":{"type":"integer","title":"Quantity","default":1},"rental_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rental Days"},"rental_start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Rental Start Date"},"rental_end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Rental End Date"},"transaction_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Transaction Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"items":{"items":{"$ref":"#/components/schemas/OrderItemResponse"},"type":"array","title":"Items","default":[]},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name"},"product_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Product Price"},"shop_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shop Name"}},"type":"object","required":["id","order_number","user_id","order_type","status","total_amount","created_at","updated_at"],"title":"OrderResponse"},"PaymentCreate":{"properties":{"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"payment_type":{"type":"string","title":"Payment Type"},"extra_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Data"}},"type":"object","required":["amount","payment_type"],"title":"PaymentCreate"},"PaymentResponse":{"properties":{"order_id":{"type":"string","title":"Order Id"},"approval_url":{"type":"string","title":"Approval Url"},"amount":{"type":"number","title":"Amount"},"status":{"type":"string","title":"Status"}},"type":"object","required":["order_id","approval_url","amount","status"],"title":"PaymentResponse"},"ProductInCart":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"images":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Images"},"shop_id":{"type":"integer","title":"Shop Id"},"shop_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shop Name"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","name","price","shop_id","is_active"],"title":"ProductInCart","description":"Product information for cart item"},"ProductList":{"properties":{"products":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Products"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["products","total","page","page_size"],"title":"ProductList"},"ProductResponse":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Product name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description","description":"Product description"},"price":{"type":"number","maximum":1000000.0,"exclusiveMinimum":0.0,"title":"Price","description":"Product price (must be positive, max 1M)"},"characteristics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Characteristics","description":"Product characteristics as JSON"},"id":{"type":"integer","title":"Id"},"shop_id":{"type":"integer","title":"Shop Id"},"images":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Images"},"rent_expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Rent Expires At"},"is_active":{"type":"boolean","title":"Is Active"},"moderation_status":{"$ref":"#/components/schemas/ModerationStatusEnum"},"moderation_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Moderation Notes"},"views_count":{"type":"integer","title":"Views Count"},"try_ons_count":{"type":"integer","title":"Try Ons Count"},"purchases_count":{"type":"integer","title":"Purchases Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","price","id","shop_id","is_active","moderation_status","views_count","try_ons_count","purchases_count","created_at","updated_at"],"title":"ProductResponse"},"ProductUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Price"},"characteristics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Characteristics"},"images":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Images"}},"type":"object","title":"ProductUpdate"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest"},"RefundAction":{"properties":{"action":{"type":"string","pattern":"^(approve|reject)$","title":"Action"},"admin_notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Admin Notes"}},"type":"object","required":["action"],"title":"RefundAction"},"RefundResponse":{"properties":{"id":{"type":"integer","title":"Id"},"transaction_id":{"type":"integer","title":"Transaction Id"},"user_id":{"type":"integer","title":"User Id"},"reason":{"type":"string","title":"Reason"},"status":{"type":"string","title":"Status"},"admin_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At"}},"type":"object","required":["id","transaction_id","user_id","reason","status","created_at"],"title":"RefundResponse"},"ReviewCreate":{"properties":{"rating":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Rating","description":"Rating from 1 to 5"},"comment":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Comment"}},"type":"object","required":["rating"],"title":"ReviewCreate"},"ReviewResponse":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"product_id":{"type":"integer","title":"Product Id"},"rating":{"type":"integer","title":"Rating"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"user_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Name"},"user_avatar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Avatar"}},"type":"object","required":["id","user_id","product_id","rating","created_at","updated_at"],"title":"ReviewResponse"},"ShopAnalytics":{"properties":{"total_products":{"type":"integer","title":"Total Products"},"active_products":{"type":"integer","title":"Active Products"},"total_views":{"type":"integer","title":"Total Views"},"total_try_ons":{"type":"integer","title":"Total Try Ons"},"total_purchases":{"type":"integer","title":"Total Purchases"},"total_revenue":{"type":"number","title":"Total Revenue"}},"type":"object","required":["total_products","active_products","total_views","total_try_ons","total_purchases","total_revenue"],"title":"ShopAnalytics"},"ShopApprovalAction":{"properties":{"notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Notes"}},"type":"object","title":"ShopApprovalAction"},"ShopList":{"properties":{"shops":{"items":{"$ref":"#/components/schemas/ShopListItem"},"type":"array","title":"Shops"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page","default":1},"page_size":{"type":"integer","title":"Page Size","default":50}},"type":"object","required":["shops","total"],"title":"ShopList"},"ShopListItem":{"properties":{"id":{"type":"integer","title":"Id"},"shop_name":{"type":"string","title":"Shop Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"logo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo Url"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"products_count":{"type":"integer","title":"Products Count","default":0},"is_approved":{"type":"boolean","title":"Is Approved"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","shop_name","is_approved","is_active","created_at"],"title":"ShopListItem"},"ShopRejectionAction":{"properties":{"reason":{"type":"string","maxLength":1000,"minLength":10,"title":"Reason"}},"type":"object","required":["reason"],"title":"ShopRejectionAction"},"ShopResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"shop_name":{"type":"string","maxLength":255,"minLength":1,"title":"Shop Name"},"owner_name":{"type":"string","maxLength":255,"minLength":1,"title":"Owner Name"},"id":{"type":"integer","title":"Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"balance":{"type":"number","title":"Balance","default":0},"is_approved":{"type":"boolean","title":"Is Approved"},"is_active":{"type":"boolean","title":"Is Active"},"rejection_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["email","shop_name","owner_name","id","is_approved","is_active","created_at","updated_at"],"title":"ShopResponse"},"ShopUpdate":{"properties":{"shop_name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Shop Name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"phone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Phone"},"address":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Address"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ShopUpdate"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"Token"},"TransactionResponse":{"properties":{"type":{"type":"string","title":"Type"},"amount":{"type":"number","title":"Amount"},"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"shop_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Shop Id"},"paypal_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Paypal Order Id"},"paypal_capture_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Paypal Capture Id"},"status":{"type":"string","title":"Status"},"extra_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Data"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["type","amount","id","status","created_at"],"title":"TransactionResponse"},"TryOnRequest":{"properties":{"product_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Product Id"},"user_image_url":{"type":"string","minLength":1,"title":"User Image Url"}},"type":"object","required":["product_id","user_image_url"],"title":"TryOnRequest"},"UserBalance":{"properties":{"balance":{"type":"number","title":"Balance"},"free_generations_left":{"type":"integer","title":"Free Generations Left"},"free_try_ons_left":{"type":"integer","title":"Free Try Ons Left"}},"type":"object","required":["balance","free_generations_left","free_try_ons_left"],"title":"UserBalance"},"UserResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"User display name"},"id":{"type":"integer","title":"Id"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"balance":{"type":"number","minimum":0.0,"title":"Balance","description":"User balance (non-negative)"},"free_generations_left":{"type":"integer","minimum":0.0,"title":"Free Generations Left","description":"Remaining free generations"},"free_try_ons_left":{"type":"integer","minimum":0.0,"title":"Free Try Ons Left","description":"Remaining free try-ons"},"role":{"$ref":"#/components/schemas/UserRoleEnum"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["email","name","id","balance","free_generations_left","free_try_ons_left","role","created_at","updated_at"],"title":"UserResponse"},"UserRoleEnum":{"type":"string","enum":["user","admin"],"title":"UserRoleEnum","description":"User role enumeration"},"UserUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}