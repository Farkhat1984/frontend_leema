<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–æ–≤–∞—Ä—ã - –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
    <link rel="stylesheet" href="../../assets/css/layouts/style.css">
    <link rel="stylesheet" href="../../assets/css/pages/shop.css">
</head>

<body>
    <div class="dashboard" style="display: block;">
        <div class="header">
            <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h1>
            <div class="user-info">
                <div class="user-avatar" id="adminAvatar">–ê</div>
                <span id="adminName">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </div>

        <div class="container">
            <div id="adminAlertContainer"></div>

            <div class="admin-page-header">
                <a href="/admin/index.html" class="back-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    –ù–∞–∑–∞–¥ –∫ –ø–∞–Ω–µ–ª–∏
                </a>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</h3>
                    <div class="value" id="totalProducts">0</div>
                </div>
                <div class="stat-card">
                    <h3>–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h3>
                    <div class="value" id="pendingModeration">0</div>
                </div>
                <div class="stat-card">
                    <h3>–û–¥–æ–±—Ä–µ–Ω–æ</h3>
                    <div class="value" id="approvedProducts">0</div>
                </div>
                <div class="stat-card">
                    <h3>–û—Ç–∫–ª–æ–Ω–µ–Ω–æ</h3>
                    <div class="value" id="rejectedProducts">0</div>
                </div>
            </div>

            <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div class="section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
                </div>
                
                <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; align-items: center;">
                    <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –º–∞–≥–∞–∑–∏–Ω—É..." 
                           style="flex: 1; min-width: 250px; padding: 10px 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px;"
                           oninput="handleSearch()">
                    
                    <select id="sortSelect" onchange="handleSort()" 
                            style="padding: 10px 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; cursor: pointer;">
                        <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                        <option value="oldest">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                        <option value="price_low">–¶–µ–Ω–∞: –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                        <option value="price_high">–¶–µ–Ω–∞: –ø–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                        <option value="name_az">–ù–∞–∑–≤–∞–Ω–∏–µ: –ê-–Ø</option>
                        <option value="name_za">–ù–∞–∑–≤–∞–Ω–∏–µ: –Ø-–ê</option>
                    </select>
                </div>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                    <button class="btn btn-secondary active" onclick="filterByStatus('pending')" id="filterPending">–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</button>
                    <button class="btn btn-secondary" onclick="filterByStatus('all')" id="filterAll">–í—Å–µ</button>
                    <button class="btn btn-secondary" onclick="filterByStatus('approved')" id="filterApproved">–û–¥–æ–±—Ä–µ–Ω–Ω—ã–µ</button>
                    <button class="btn btn-secondary" onclick="filterByStatus('rejected')" id="filterRejected">–û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ</button>
                </div>
                
                <div id="moderationQueue" class="products-grid"></div>
                
                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div id="paginationContainer" class="pagination" style="display: none;">
                    <button class="btn btn-secondary" id="prevPageBtn" onclick="changePage(-1)">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</button>
                    <span id="pageInfo" style="margin: 0 20px; font-weight: 600;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</span>
                    <button class="btn btn-secondary" id="nextPageBtn" onclick="changePage(1)">–°–ª–µ–¥—É—é—â–∞—è</button>
                </div>
            </div>
        </div>
    </div>

    <script defer src="../../assets/js/core/auth.js?v=15"></script>
    <script defer src="../../assets/js/core/config.js?v=15"></script>
    <script defer src="../../assets/js/core/websocket.js?v=15"></script>
    <script defer src="../../assets/js/core/notifications.js?v=15"></script>
    <script defer src="../../assets/js/shared/lazy-loader.js?v=15"></script>
    <script defer src="../../assets/js/core/cache.js?v=15"></script>
    <script defer src="../../assets/js/shared/common-utils.js?v=15"></script>
    <script defer src="../../assets/js/pages/admin/products.js?v=15"></script>
</body>

</html>
